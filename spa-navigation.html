<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>2.1. Single Page Navigation</title>
      <script type="module" crossorigin src="/f8-fullstack-day27/assets/main-CeRjPfn4.js"></script>
      <link rel="stylesheet" crossorigin href="/f8-fullstack-day27/assets/main-W3uYwu2U.css">
    </head>
    <body>
        <nav>
            <ul class="nav">
                <li>
                    <a href="" data-page="home">Home</a>
                </li>
                <li>
                    <a href="" data-page="about">About</a>
                </li>
                <li>
                    <a href="" data-page="services">Services</a>
                </li>
                <li>
                    <a href="#" data-page="contact">Contact</a>
                </li>
            </ul>
        </nav>
        <div class="content"></div>
        <script>
            const nav = document.querySelector(".nav");
            const links = document.querySelectorAll(".nav a");
            const content = document.querySelector(".content");

            const pages = {
                home: "Chào mừng đến với trang chủ! Đây là nội dung của trang Home.",
                about: "Thông tin về chúng tôi. Chúng tôi là công ty chuyên về công nghệ web.",
                services:
                    "Các dịch vụ của chúng tôi: Thiết kế web, Lập trình ứng dụng, Tư vấn công nghệ.",
                contact:
                    "Liên hệ với chúng tôi: Email: contact@example.com, Phone: 0123456789",
            };

            function render(page) {
                // Cập nhật nội dung content
                content.innerHTML = "";

                const h2 = document.createElement("h2");
                h2.textContent = pages[page];

                const p = document.createElement("p");
                p.textContent = `History Length: ${history.length}`;

                content.append(h2, p);
                // Cập nhật class active
                links.forEach((link) =>
                    link.classList.toggle("active", link.dataset.page === page)
                );
            }

            links.forEach((link) => {
                link.addEventListener("click", (e) => {
                    e.preventDefault();

                    // Thay đổi đường dẫn khi nhấn
                    history.pushState(null, null, link.dataset.page);
                    // Render page khi nhấn vào các nút ở .nav
                    render(link.dataset.page);
                });
            });

            // history.replaceState(null, null, location.pathname.);
            // render("home");

            window.addEventListener("popstate", () => {
                const page =
                    location.pathname.replace("/f8-fullstack-day27/", "") ||
                    "home";

                render(page);
            });
        </script>
    </body>
</html>
